#!/usr/bin/env ruby

require 'puppet_converter'
require 'thor'

class Default < Thor
  desc 'package', 'generate package definitions'
  method_option :input_file , type: string, default: 'input.txt'
  method_option :output_directory , type: string, default: 'out/'
  def package
    input_file = InputFile.new(options[:input_file)
    converter = PackageDefinitionsConverter.new(input_file.entries)

    output_file = OutputFile.new(options[:output_directory, converter.run)
    output_file.write
  end
end
